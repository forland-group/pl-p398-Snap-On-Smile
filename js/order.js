$((function(){let e=!1;$("form.main-order-form").submit((function(r){if(e)return!1;let t=$("button, input[type=submit]",$(this)),n=$(this),i=$("[name=name]:visible",n),a=$("[name=phone]:visible",n),l=$.trim(a.val()),o=l.replace(/[^0-9]+/g,"");if(i.length&&""==i.val())return alert(nameError);if(a.length){r.preventDefault();let i=phonePrefix.length-1+5;if(l.length<i)return alert(phoneError5);if("+7"==phonePrefix&&11==o.length&&9!=o.charAt(1)&&7!=o.charAt(1))return alert("Введите мобильный номер");if(t.prop("disabled",!0),e=!0,n.hasClass("order-success-reorder-form")){let r=n.find('[name="name"]'),t=n.find('[name="phone"]'),i=$(".thank-info__name");if(t.val()==t.data("initVal"))return M1.modalHide($("#m1-form")),e=!1,i.length&&i.text(r.val()),!1;n.append('<input type="hidden" name="reorder" value="1">')}Lib.request("/Order/Create",$(this).serialize(),(function(r,n){return!r&&n?(e=!1,t.prop("disabled",!1),alert(n)):n.redirect?document.location.href=n.redirect:void 0}))}}))}));