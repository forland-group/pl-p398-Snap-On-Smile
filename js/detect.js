var detects={paste:[],timer:0,fp:""};function onPaste(e){var t=e.target.tagName,i=$(e.target).attr("name");detects.paste.push({name:i,tag:t})}function getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function setCookie(e,t,i){var o=(i=i||{}).expires;if("number"==typeof o&&o){var n=new Date;n.setTime(n.getTime()+1e3*o),o=i.expires=n}o&&o.toUTCString&&(i.expires=o.toUTCString());var r=e+"="+(t=encodeURIComponent(t));for(var a in i){r+="; "+a;var s=i[a];!0!==s&&(r+="="+s)}document.cookie=r}let M1Timer={cookieParams:{},timerId:null,lastActive:0,getTime:function(){return(new Date).getTime()},getLastActive:function(){return M1Timer.lastActive},setLastActive:function(){M1Timer.lastActive=M1Timer.getTime()},getHost:function(){return location.origin+location.pathname},getSecond:function(){let e=getCookie("site_timer"),t=M1Timer.getHost();return null==e?0:(e=JSON.parse(e),void 0!==e[t]?Number(e[t]):0)},plusSecond:function(){let e=getCookie("site_timer"),t=M1Timer.getHost();null==e?(e={},e[t]=0):(e=JSON.parse(e),void 0===e[t]&&(e[t]=0)),e[t]+=1,setCookie("site_timer",JSON.stringify(e),M1Timer.cookieParams)},startCycle:function(){M1Timer.setLastActive(),M1Timer.cookieParams={expires:31536e3,path:location.pathname,domain:location.host},M1Timer.timerId=setInterval((function(){new Number((M1Timer.getTime()-M1Timer.getLastActive())/1e3).toFixed(0)<30&&M1Timer.plusSecond()}),1e3),$(document).on("keydown",M1Timer.setLastActive),$(document).on("mousemove",M1Timer.setLastActive),$(document).on("scroll",M1Timer.setLastActive),$(document).on("resize",M1Timer.setLastActive),$(document).on("paste",M1Timer.setLastActive),$(document).on("click",M1Timer.setLastActive)},clearHostData:function(){let e=getCookie("site_timer"),t=M1Timer.getHost();e&&(e=JSON.parse(e),delete e[t]),setCookie("site_timer",JSON.stringify(e),M1Timer.cookieParams)},stopCycle:function(){clearInterval(M1Timer.timerId),M1Timer.clearHostData()}};function googleCode(){Fingerprint2.get((function(e){detects.fp=Fingerprint2.x64hash128(e.map((function(e){return e.value})).join(),31)}))}$((function(){googleCode(),M1Timer.startCycle(),$(document.body).on("paste",onPaste),$("form").on("submit",(function(){detects.timer=M1Timer.getSecond();var e=JSON.stringify(detects);return e=e.replace(/"/g,"'"),$("[name=detects]").length||$('<input type="hidden" name="detects" value="'+e+'">').appendTo(this),M1Timer.stopCycle(),!0}))}));